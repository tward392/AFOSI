UPDATE T_OSI_REFERENCE SET CODE='BRO' WHERE CODE='BRN' AND USAGE='PERSON_HAIR_COLOR';
UPDATE T_OSI_REFERENCE SET CODE='WHI' WHERE CODE='WHT' AND USAGE='PERSON_HAIR_COLOR';
UPDATE T_OSI_REFERENCE SET CODE='XXX' WHERE CODE='OTH' AND USAGE='PERSON_HAIR_COLOR';


UPDATE T_OSI_REFERENCE SET CODE='BRO' WHERE CODE='BRN' AND USAGE='PERSON_EYE_COLOR';
UPDATE T_OSI_REFERENCE SET CODE='HAZ' WHERE CODE='HZL' AND USAGE='PERSON_EYE_COLOR';
COMMIT;



CREATE OR REPLACE VIEW V_OSI_PARTIC_VERSION_CURRENT
(SID, PERSON, PERSON_TYPE_CODE, PERSON_SUBTYPE_CODE, PERSON_TYPE_DESC, 
 PERSON_SUBTYPE_DESC, ETHNICITY, BIRTH_DATE, UNKNOWN_FLAG, AGE_LOW, 
 AGE_HIGH, HEIGHT, WEIGHT, SEX, SEX_DESC, 
 SEX_CODE, RACE, RACE_DESC, HAIR_COLOR, EYE_COLOR, 
 BUILD, POSTURE, WRITING_HAND, IS_BALD, BALD_COMMENT, 
 HAS_FACIAL_HAIR, FACIAL_HAIR_COMMENT, WEARS_GLASSES, GLASSES_COMMENT, IS_HARD_OF_HEARING, 
 HARD_OF_HEARING_COMMENT, HAS_TEETH, TEETH_COMMENT, EDUCATION_LEVEL, SA_SERVICE, 
 SA_PAY_GRADE, SA_PAY_PLAN, SA_PAY_BAND, SA_COMPONENT, SA_RANK, 
 SA_RANK_DATE, SA_AFFILIATION, SA_SPECIALTY_CODE, SA_SERVICE_DESC, FSA_SERVICE, 
 FSA_RANK, FSA_EQUIV_RANK, FSA_RANK_DATE, FSA_SERVICE_DESC, IND_CURR_NAME, 
 CO_CAGE, CO_DUNS, ORG_UIC, ORG_HIGH_RISK, ORG_NUM_PEOPLE, 
 ORG_SUPPORTING_UNIT, ORG_MAJCOM, PROG_DESCRIPTION, CREATE_BY, CREATE_ON, 
 MODIFY_BY, MODIFY_ON, LOCKED_BY, LOCKED_ON, CURRENT_ADDR, 
 IND_FULL_NAME, KNOWN_IO, SUSPECTED_IO, BLOOD_TYPE, DEERS_DATE, 
 CLEARANCE, ADDR1, ADDR2, ADDR_CITY, ADDR_STATE, 
 ADDR_PROVINCE, ADDR_COUNTRY, ADDR_ZIP, ADDR_STATE_DESC, ADDR_COUNTRY_DESC, 
 ADDR_DISPLAY, CONFIRMED, SSN, SA_RESERVIST, SA_RESERVIST_TYPE, 
 SA_RESERVIST_STATUS, SA_RESERVIST_TYPE_DESCR, SA_RESERVIST_STATUS_DESCR, IND_TITLE, IND_LAST_NAME, 
 IND_FIRST_NAME, IND_MIDDLE_NAME, IND_CADENCY)
AS 
SELECT PV.SID, PV.PARTICIPANT, PV.OBJ_TYPE, PV.OBJ_TYPE, PV.OBJ_TYPE_DESC, PV.OBJ_TYPE_DESC,
           PV.ETHNICITY_CODE, PV.DOB, PV.UNKNOWN_FLAG, PV.AGE_LOW, PV.AGE_HIGH, PV.HEIGHT,
           PV.WEIGHT, PV.SEX, PV.SEX_DESC, PV.SEX_CODE, PV.RACE, PV.RACE_DESC, PV.HAIR_COLOR, PV.EYE_COLOR,
           PV.BUILD, PV.POSTURE, PV.WRITING_HAND, PV.IS_BALD, PV.BALD_COMMENT, PV.HAS_FACIAL_HAIR,
           PV.FACIAL_HAIR_COMMENT, PV.WEARS_GLASSES, PV.GLASSES_COMMENT, PV.IS_HARD_OF_HEARING,
           PV.HEARING_COMMENT, PV.HAS_TEETH, PV.TEETH_COMMENT, PV.EDUCATION_LEVEL, PV.SA_SERVICE,
           PV.SA_PAY_GRADE, PV.SA_PAY_PLAN, PV.SA_PAY_BAND, PV.SA_COMPONENT, PV.SA_RANK,
           PV.SA_RANK_DATE, PV.SA_AFFILIATION, PV.SA_SPECIALTY_CODE, PV.SA_SERVICE_DESC,
           PV.FSA_SERVICE, PV.FSA_RANK, PV.FSA_EQUIV_RANK, PV.FSA_RANK_DATE, PV.FSA_SERVICE_DESC,
           PV.CURRENT_NAME, PV.CO_CAGE, PV.CO_DUNS, PV.ORG_UIC, PV.ORG_HIGH_RISK, PV.ORG_NUM_PEOPLE,
           PV.ORG_SUPPORTING_UNIT, PV.ORG_MAJCOM, PV.PROG_DESCRIPTION, PV.CREATE_BY, PV.CREATE_ON,
           PV.MODIFY_BY, PV.MODIFY_ON, PV.LOCKED_BY, PV.LOCKED_ON, PV.CURRENT_ADDRESS, PV.FULL_NAME,
           PV.KNOWN_IO, PV.SUSPECTED_IO, PV.BLOOD_TYPE, PV.DEERS_DATE, PV.CLEARANCE,
           CA.ADDRESS_1 AS ADDR1, CA.ADDRESS_2 AS ADDR2, CA.CITY, CA.STATE_CODE, CA.PROVINCE,
           CA.COUNTRY_CODE, CA.POSTAL_CODE, CA.STATE_DESC AS ADDR_STATE_DESC,
           CA.COUNTRY_DESC AS ADDR_COUNTRY_DESC, CA.DISPLAY_STRING AS ADDR_DISPLAY,
           DECODE(P.CONFIRM_BY, NULL, 'not Confirmed', 'Confirmed') AS CONFIRMED, PV.SSN,
           PV.SA_RESERVIST, PV.SA_RESERVIST_TYPE, PV.SA_RESERVIST_STATUS, PV.SA_RESERVIST_TYPE_DESC,
           PV.SA_RESERVIST_STATUS_DESC, PV.IND_TITLE, PV.IND_LAST_NAME, PV.IND_FIRST_NAME,
           PV.IND_MIDDLE_NAME, PV.IND_CADENCY
      FROM V_OSI_PARTICIPANT_VERSION PV, T_OSI_PARTICIPANT P, V_OSI_PARTIC_ADDRESS CA
     WHERE P.CURRENT_VERSION = PV.SID AND P.SID = PV.PARTICIPANT AND PV.CURRENT_ADDRESS=CA.SID(+)
/

